<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js"><span id='PTS-view-controls-AddressFieldSet'>/**
</span> * Address fieldset
 */
Ext.define('PTS.view.controls.AddressFieldSet', {
    extend: 'PTS.view.controls.MyFieldSet',
    alias: 'widget.addressfieldset',
    requires: [
        'PTS.view.controls.StateCombo',
        'PTS.view.controls.CountryCombo'
    ],

    cls: 'pts-contact-fieldset',
    itemId: 'address',
    margin: '10 0 0 0',
    checkboxName: 'addressCbx',
    checkboxToggle: true,
    collapsed: true,
    collapsible: true,
    title: 'Address',

<span id='PTS-view-controls-AddressFieldSet-cfg-copyCheckBox'>    /**
</span>     * @cfg {Boolean/String}
     * This controls whether the copy checkbox is rendered into the fieldset
     * Supplying anything other than a false value will render the checkbox with
     * the passed value as the itemId.
     */
    copyCheckBox: false,

    initComponent: function() {
        var me = this;

        Ext.applyIf(me, {
            items: [
                {
                    xtype: 'textfield',
                    name: 'street1',
                    fieldLabel: 'Street 1',
                    anchor: '100%'
                },
                {
                    xtype: 'textfield',
                    name: 'street2',
                    fieldLabel: 'Street 2',
                    anchor: '100%'
                },
                {
                    xtype: 'fieldcontainer',
                    layout: {
                        align: 'middle',
                        defaultMargins: {
                            'top': 0,
                            right: 5,
                            bottom: 0,
                            left: 0
                        },
                        type: 'hbox'
                    },
                    items: [
                        {
                            xtype: 'textfield',
                            itemId: 'city',
                            disabled: true,
                            width: 400,
                            name: 'city',
                            fieldLabel: 'City',
                            flex: 0
                        },
                        {
                            xtype: 'statecombo',
                            itemId: 'state',
                            disabled: true,
                            width: 400,
                            name: 'stateid',
                            fieldLabel: 'State',
                            labelAlign: 'right',
                            labelWidth: 75,
                            flex: 0
                        }
                    ]
                },
                {
                    xtype: 'fieldcontainer',
                    layout: {
                        align: 'middle',
                        defaultMargins: {
                            'top': 0,
                            right: 5,
                            bottom: 0,
                            left: 0
                        },
                        type: 'hbox'
                    },
                    items: [
                        {
                            xtype: 'countrycombo',
                            itemId: 'country',
                            width: 400,
                            name: 'countryiso',
                            fieldLabel: 'Country'
                        },
                        {
                            xtype: 'textfield',
                            itemId: 'postalcode',
                            allowBlank: false,
                            width: 200,
                            name: 'postalcode',
                            fieldLabel: 'Zip code',
                            labelAlign: 'right',
                            labelWidth: 75,
                            flex: 0
                        },
                        {
                            xtype: 'textfield',
                            width: 130,
                            name: 'postal4',
                            fieldLabel: 'Zip4',
                            labelAlign: 'right',
                            labelWidth: 60,
                            flex: 0
                        }
                    ]
                },
                {
                    xtype: 'hiddenfield',
                    itemId: 'recordId',
                    name: 'addressid',
                    fieldLabel: 'Label',
                    anchor: '100%'
                }
            ]
        });

        me.callParent(arguments);
    },

    listeners: {
        beforerender: function(cmp) {
            if(cmp.copyCheckBox) {
                cmp.insert(0,{
                    xtype: 'checkboxfield',
                    itemId: cmp.copyCheckBox,
                    hideEmptyLabel: false,
                    boxLabel: 'Copy primary mailing address',
                    anchor: '100%'
                });
            }
        }
    }
});
</pre>
</body>
</html>
